<crud2 #crud [router]="url" [jsonname]="fieldcode" [list]="list" (actionClick)="btnEvent($event)" [isKeyQuery]="true"
    listFun="Customurl" [isDataOnInit]="false" [isAction]="false" [isRefresh]="false" [columns]="columns"
    [modular]="modular" [fields]="field" [isKeyword]="false" [KeyQuery]="KeyQuery" [checkbox]="false"
    expurl="Customexpurl" [isStatistics]="true" (onReset)="onReset()" detail="datalist"
    [searchActionsBody]="searchActionsBody" [isReport]="true"></crud2>
<ng-template #searchActionsBody let-item="record">
    <form nz-form>
        <nz-form-item *ngIf="QueryInspection('pwb_code')">
            <nz-form-label [nzSpan]="24">
                {{'reportYield.pwb_code'|i18n }}
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.pwb_key" name="pwb_key"
                    url="WorkBill" DataTxt="code" [isshow]="false">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('hoi_name')">
            <nz-form-label [nzSpan]="24">
                {{'reportYield.org'|i18n }}
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-ztree-select [setting]="setting" class="select" [(ngModel)]="crud.seniorModel.hoi_key"
                    name="hoi_key" datatype="getlist/"></ina-ztree-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('psi_code')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.psi'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.psi_key" name="psi_key"
                    url="styleinfo" DataTxt="code" secondary="name">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('pci_name')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.pci_name'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.pci_key" name="pci_key"
                    url="colorinfo">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('psz_name')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.psz_name'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.psz_key" name="psz_key"
                    url="sizeinfo">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('bli_name')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.bli_name'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.bli_key" name="bli_key"
                    [other]="{group:'Line'}" DataTxt="code" url="LayoutStructure/extend" Datatyle="NewGetList/"
                    [ispaging]="false">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('bsm_code')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.bsm_code'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.bls_key" name="bls_key"
                    [other]="{group:'Station'}" DataTxt="code" url="LayoutStructure/extend" Datatyle="NewGetList/"
                    [ispaging]="false">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item *ngIf="QueryInspection('poi_name')">
            <nz-form-label [nzSpan]="24">{{
                'reportYield.poi_code'|i18n }}</nz-form-label>
            <nz-form-control [nzSpan]="24">
                <ina-common-select class="select" title="" [(ngModel)]="crud.seniorModel.poi_key" name="poi_key"
                    [linkage]="true" [linkagedata]="{psi_key:crud.seniorModel.psi_key}" url="OperationInfo">
                </ina-common-select>
            </nz-form-control>
        </nz-form-item>
    </form>
</ng-template>
<ng-template #KeyQuery let-item="record">
    <!-- <span nz-row> -->
    <ina-common-select class="select" title="{{'reportYield.hei_code'|i18n}}" [(ngModel)]="crud.SearchModel.hei_key"
        name="hei_key" url="Employeeinfo" DataTxt="code">
    </ina-common-select>
    <date-select [isRange]="true" #dateselect
        (onSelect)="crud.SearchModel.start_date=$event.start;crud.SearchModel.end_date=$event.end"></date-select>
    <!-- </span> -->
</ng-template>
