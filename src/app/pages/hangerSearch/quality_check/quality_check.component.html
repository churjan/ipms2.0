<nz-table #colSpanTable [nzData]="quality" nzBordered nzTableLayout="fixed" [nzFrontPagination]="false"
  [nzShowPagination]="false" nzSize="small" [nzScroll]="{ x:'100%', y: 'calc(100% - 40px)' }">
  <thead>
    <tr>
      <th *ngFor="let columns of modular.quality;let i=index;">{{('hanger.'+columns.coums)|i18n}}</th>
      <th nzRight nzAlign="center">{{'btn.operation'|i18n}}</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let data of colSpanTable.data; index as i">
      <tr *ngFor="let ql of data.pqtr_list;index as qi">
        <ng-container *ngFor="let columns of modular.quality;let c=index;">
          <td [nzEllipsis]="true" nz-tooltip [attr.rowspan]="data.pqtr_list.length"
            nzTooltipTitle="{{columns.format?(data[columns.coums]|date:columns.format):qualitytitle(columns,data)}}"
            *ngIf="qi==0&&columns.coums!='bqci_name'&&columns.coums!='poi_name_receive'&&columns.coums!='handlemethod_name'&&columns.coums!='qc_quantity'">
            {{columns.format?(data[columns.coums]|date:columns.format):qualitytitle(columns,data)}}
          </td>
          <td [nzEllipsis]="true" nz-tooltip
            nzTooltipTitle="{{columns.format?(ql[columns.coums]|date:columns.format):qualitytitle(columns,ql)}}"
            *ngIf="columns.coums=='bqci_name'||columns.coums=='poi_name_receive'||columns.coums=='handlemethod_name'||columns.coums=='qc_quantity'">
            {{columns.format?(ql[columns.coums]|date:columns.format):qualitytitle(columns,ql)}}
          </td>
        </ng-container>
        <td nzRight nzAlign="center" [attr.rowspan]="data.pqtr_list.length" *ngIf="qi==0">
          <a nz-button [nzSize]="size" nzType="link" (click)="get3(data.pqtr_list)">{{'btn.qir'|i18n}}</a>
        </td>
      </tr>
    </ng-container>
    <!-- <tr *ngFor="let data of colSpanTable.data; index as i">
      <ng-container *ngFor="let columns of modular.quality;let c=index;">
        <td [nzEllipsis]="true" nz-tooltip
          nzTooltipTitle=" {{columns.format?(data[columns.coums]|date:columns.format):qualitytitle(columns,data)}}"
          *ngIf="columns.coums!='bqci_name'&&columns.coums!='poi_name_receive'&&columns.coums!='handlemethod_name'">
          {{columns.format?(data[columns.coums]|date:columns.format):qualitytitle(columns,data)}}
        </td>
        <td [nzEllipsis]="true" style="padding: 0;"
          *ngIf="columns.coums=='bqci_name'||columns.coums=='poi_name_receive'||columns.coums=='handlemethod_name'">
          <nz-list nzSize="small" style="width: 100%;height: 100%;">
            <nz-list-item *ngFor="let ql of data.pqtr_list;let qi=index"
              class="list-item" nz-tooltip
              nzTooltipTitle="{{columns.format?(ql[columns.coums]|date:columns.format):qualitytitle(columns,ql)}}">
              {{columns.format?(ql[columns.coums]|date:columns.format):qualitytitle(columns,ql)}}</nz-list-item>
          </nz-list>
        </td>
      </ng-container>
      <td nzRight nzAlign="center">
        <a nz-button [nzSize]="size" nzType="link"
          (click)="get3(data.pqtr_list)">{{'btn.qir'|i18n}}</a>
      </td>
    </tr> -->
  </tbody>
</nz-table>
